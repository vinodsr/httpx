module.exports=function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=8)}([function(e,n){for(var t=[],o=0;o<256;++o)t[o]=(o+256).toString(16).substr(1);e.exports=function(e,n){var o=n||0,r=t;return r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]+"-"+r[e[o++]]+r[e[o++]]+"-"+r[e[o++]]+r[e[o++]]+"-"+r[e[o++]]+r[e[o++]]+"-"+r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]}},function(e,n){e.exports=require("crypto")},function(e,n,t){var o=t(1);e.exports=function(){return o.randomBytes(16)}},function(e,n,t){var o,r,i=t(2),s=t(0),c=0,l=0;e.exports=function(e,n,t){var u=n&&t||0,d=n||[],f=(e=e||{}).node||o,a=void 0!==e.clockseq?e.clockseq:r;if(null==f||null==a){var v=i();null==f&&(f=o=[1|v[0],v[1],v[2],v[3],v[4],v[5]]),null==a&&(a=r=16383&(v[6]<<8|v[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:l+1,h=p-c+(g-l)/1e4;if(h<0&&void 0===e.clockseq&&(a=a+1&16383),(h<0||p>c)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,l=g,r=a;var m=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;d[u++]=m>>>24&255,d[u++]=m>>>16&255,d[u++]=m>>>8&255,d[u++]=255&m;var x=p/4294967296*1e4&268435455;d[u++]=x>>>8&255,d[u++]=255&x,d[u++]=x>>>24&15|16,d[u++]=x>>>16&255,d[u++]=a>>>8|128,d[u++]=255&a;for(var b=0;b<6;++b)d[u+b]=f[b];return n||s(d)}},function(e,n){e.exports=class{constructor(e,n){this.socket=e,this.clientid=n}send(e){console.log("Sending message for Clientid ",this.clientid),this.socket.sendMessage(this.clientid,e)}}},function(e,n){e.exports=require("socket.io")},function(e,n){e.exports=require("http")},function(e,n,t){const o=t(6).createServer(),r={};t(5)(o).on("connection",function(e){console.log("Client joined",e.id),r[e.id]=e,e.on("disconnect",function(){console.log("client disconnect...",e.id)}),e.on("error",function(n){console.log("received error from client:",e.id),console.log(n)})}),o.listen(3001,function(e){if(e)throw e;console.log("socket io listening on port 3000")});e.exports=class{constructor(e){this.eventId=e}sendMessage(e,n){console.log("Sending message ",n,"to client ",e),n._event={eventid:this.eventId,clientid:e},void 0!==r[e]?r[e].emit("message",n):console.log("Client not found")}}},function(e,n,t){const o=t(7),r=t(4),i=t(3);e.exports=class{constructor(e,n){this.req=e,this.res=n}static setup(){}do(e){let n=i();console.log("Creating event with id ",n);let t=new o(n);const s=new r(t,this.req.headers.clientid);e(this.req,s),this.res.send({_event:{id:n}})}}}]);